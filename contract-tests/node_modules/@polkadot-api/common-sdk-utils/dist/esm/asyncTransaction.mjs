import { from, switchMap } from 'rxjs';

const wrapAsyncTx = (fn) => {
  const promise = fn();
  promise.catch((ex) => {
    console.error(ex);
  });
  return {
    sign: (...args) => promise.then((tx) => tx.sign(...args)),
    signSubmitAndWatch: (...args) => from(promise).pipe(switchMap((tx) => tx.signSubmitAndWatch(...args))),
    signAndSubmit: (...args) => promise.then((tx) => tx.signAndSubmit(...args)),
    getEstimatedFees: (...args) => promise.then((tx) => tx.getEstimatedFees(...args)),
    getPaymentInfo: (...args) => promise.then((tx) => tx.getPaymentInfo(...args)),
    decodedCall: promise.then((tx) => tx.decodedCall),
    getEncodedData: () => promise.then((tx) => tx.getEncodedData()),
    waited: promise
  };
};

export { wrapAsyncTx };
//# sourceMappingURL=asyncTransaction.mjs.map
